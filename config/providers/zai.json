{
  "name": "zai",
  "display_name": "Z.AI",
  "enabled": true,

  "api_keys": {
    "env_var_patterns": [
      "ZAI_API_KEY",
      "ZAI_API_KEY_{INDEX}"
    ],
    "description": "Environment variable patterns for API keys. {INDEX} = 1,2,3..."
  },

  "endpoints": {
    "base_url": "https://api.z.ai",
    "completions": "/api/paas/v4/chat/completions",
    "streaming": "/api/paas/v4/chat/completions",
    "compatible_format": "openai"
  },

  "authentication": {
    "type": "bearer",
    "header_name": "Authorization",
    "header_format": "Bearer {api_key}"
  },

  "request_config": {
    "timeout_seconds": 180,
    "max_retries": 50,
    "retry_on_status": [429, 500, 502, 503, 504],
    "default_parameters": {
      "temperature": 0.7,
      "top_p": 0.95,
      "max_tokens": 4096,
      "do_sample": true,
      "stream": false
    }
  },

  "rate_limiting": {
    "enabled": false,
    "requests_per_minute": null,
    "tokens_per_minute": null,
    "cooldown_seconds": 600
  },

  "models": {},

  "error_handling": {
    "400": {
      "action": "fallback_no_cooldown"
    },
    "422": {
      "action": "auto_fix_tool_responses"
    },
    "500": {
      "action": "fallback_no_cooldown"
    },
    "401": {
      "action": "global_key_failure"
    },
    "403": {
      "action": "global_key_failure"
    },
    "429": {
      "action": "model_key_failure"
    }
  },

  "proxy_support": {
    "enabled": false,
    "base_url_override": null,
    "description": "If enabled, use base_url_override instead of base_url (for proxies)"
  }
}
