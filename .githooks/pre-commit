#!/bin/sh
# .githooks/pre-commit

echo "Running pre-commit checks..."

# Ensure we have uv
if ! command -v uv >/dev/null 2>&1; then
    echo "uv not found. Skipping checks."
    exit 0
fi

echo "Running Ruff Lint..."
uv run ruff check .
if [ $? -ne 0 ]; then
    echo "Linting failed."
    exit 1
fi

echo "Running Ruff Format Check..."
uv run ruff format --check .
if [ $? -ne 0 ]; then
    echo "Formatting failed. Run 'uv run ruff format .' to fix."
    exit 1
fi

echo "Checks passed!"
